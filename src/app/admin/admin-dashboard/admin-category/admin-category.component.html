<main id="main" class="main">
    <div class="pagetitle">

  <div class="row">
    <div class="col-md-12">
      
    <div class="col-md-12">
      <div class="card">
        <div class="card-header d-flex justify-content-between">
          <h4><i class="fa fa-newspaper-o" aria-hidden="true"></i>&nbsp;Categories</h4>
 <!-- Button trigger modal -->
          <button  type="button" class="btn btn-secondary btn-lg mb-2" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
            <i class="bi bi-plus-lg"></i> Add Category
          </button>

        </div>
        </div>
        <div class="card-body table-responsive d-flex justify-content-center">
          <table class="table table-hover align-middle" style="width:90% ;">
            <thead class="table-secondary text-center">
              <tr>
                <th>Name</th>
                <th>Created At</th>
                <th>Edit</th>
                <th>Delete </th>
               <!--  <th>Created Date</th>
                <th>Action </th> -->
              </tr>
            </thead>
            <tbody class="table-primary text-center">
              <tr *ngFor="let category of categories">
                <td>{{category.name}}</td>
                <td>{{category.createdAt | date}}</td>
                <td class="text-primary" (click)="edit(category._id)"><i class="bi bi-pen-fill" role="button" data-bs-toggle="modal" data-bs-target="#staticBackdrop"></i></td>
                <td class="text-danger" (click)="delete(category._id)"><i class="bi bi-trash3-fill" role="button"></i></td>
                
                <!-- <td>{{item.createdDate | date: "MM/dd/yyyy" }}</td>
                <td> <button type="button" class="btn btn-danger" (click)="deleteBadge(item)">
                    <i class="fa fa-trash" aria-hidden="true"></i>&nbsp; Delete</button></td> -->
              </tr>
            </tbody>
          </table>
          <!-- <ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="medium" type="line-spin-fade-rotating">
            <p style="color: white">Please Wait....... </p>
          </ngx-spinner> -->
        </div>
        <!-- <div class="card-footer" *ngIf="badges.length > 5">
          <pagination-controls class="pagination_temp" (pageChange)="pageChanged($event)"></pagination-controls>
        </div> -->
      </div>


     
<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5 " id="staticBackdropLabel">Create Category</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="close()" ></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="categoryForm" (ngSubmit)="onSubmit()">
          <div class="mb-3">
            <label for="categoryName" class="form-label">Category Name</label>
            <input 
            type="text" 
            class="form-control" 
            id="categoryName" 
            formControlName="name"
            [ngClass]="{
              'is-invalid': f['name'].invalid && (f['name'].dirty || f['name'].touched),
              'is-valid': f['name'].valid && (f['name'].dirty || f['name'].touched)
            }"
            >
            
            <!-- [ngClass]="{ 'is-invalid':f['name'].errors }" -->
            <div *ngIf="(f['name'].dirty || f['name'].touched) && f['name'].errors" class="text-danger">
              <small *ngIf="f['name'].errors['required']">Category name is required</small>
            </div>
          </div>
       
       
      <div class="modal-footer d-flex justify-content-between">
        <button type="button" (click)="close()" class="btn btn-secondary" data-bs-dismiss="modal" #closed>Close</button>
        <button type="submit" class="btn btn-primary" [disabled]="categoryForm.invalid">{{isEdit? 'Update':'Create'}}</button>
      </div>
    </form>
  </div>
    </div>
  </div>
</div>


    </div>
  </div>
    </div>
</main>